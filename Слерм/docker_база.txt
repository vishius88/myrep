Отлично, ты хорошо описал процесс сборки Docker image из Dockerfile — с базового образа (`FROM`), добавления инструкций (`RUN`, `COPY`, `ENTRYPOINT` и т.д.).

Я добавлю и немного систематизирую про Docker Image и Container, а также процесс запуска:

---

### Docker Image

* Это **слоистый** и неизменяемый (read-only) шаблон, который содержит всё необходимое для запуска контейнера: файловую систему, зависимости, настройки.
* Каждый слой — результат одной инструкции в Dockerfile (например, один слой от `FROM`, следующий — от `RUN apt-get install` и т.д.).
* Docker использует **copy-on-write** файловую систему: слои складываются друг на друга, что экономит место и ускоряет работу.
* Образ можно хранить в Docker Registry (Docker Hub, приватный реестр) и скачивать.

### Docker Container

* Это **запущенный экземпляр** Docker Image.
* Контейнер создается из образа, при запуске к нему добавляется **слой записи** (read-write layer), куда будут попадать изменения файлов, логи, и так далее.
* Контейнеры изолированы друг от друга и от хоста, но используют ядро хостовой ОС.
* Каждый контейнер имеет свой namespace и cgroups, чтобы ограничивать ресурсы.

### Процесс запуска контейнера из образа

1. **Docker Engine** принимает команду `docker run`.
2. Проверяется наличие локального образа, если нет — скачивается из Registry.
3. Создается контейнер на основе образа:

   * Выделяется read-write слой поверх read-only слоев.
   * Применяются настройки контейнера (например, порты, переменные окружения, volume-монты).
4. Docker Engine использует **libcontainer/runc** (или другой runtime, например `containerd`), чтобы создать и запустить контейнер с выделенными namespaces и cgroups.
5. Контейнер выполняет команду, заданную в `ENTRYPOINT` или `CMD`.
6. При завершении работы контейнера read-write слой можно сохранить (если создается образ) или удалить.

---









ВОпросы:
### Вопросы по сетям Docker
Базовые и теоретические
Какие типы сетей есть в Docker, в чём различия между bridge, host, none и overlay?

Что такое docker0? Когда он создаётся и для чего нужен?

Как контейнер в сети bridge получает доступ к интернету?

Можно ли два контейнера из разных bridge-сетей соединить напрямую без проброса портов? Если да, то как?

Для чего нужен --link и почему он считается устаревшим?

Практические
Ты запустил контейнер Nginx на порту 80 без проброса портов. Как сделать его доступным с хоста, не перезапуская контейнер?

Как в Docker задать контейнеру статический IP-адрес?

Как сделать так, чтобы контейнер слушал порт на хосте, но был недоступен из внешней сети?

Как соединить контейнер на одном хосте и контейнер на другом хосте без Kubernetes?

Как назначить контейнеру IP из подсети физической сети, а не внутренней Docker-подсети?

Траблшутинг
У тебя контейнер в сети bridge не может достучаться до интернета. Какие шаги диагностики предпримешь?

Контейнер в overlay-сети не пингуется с другого хоста. В чём может быть причина?

Что будет, если на хосте порт уже занят, а ты попробуешь запустить контейнер с -p на тот же порт?

Как проверить, к каким сетям подключён контейнер?

Как посмотреть таблицу маршрутизации внутри контейнера?

#Еще нужно ответить:
### Вопросы по Docker Storage
Какие есть типы volume в Docker? Чем они отличаются от bind mounts?

Где физически на хосте хранятся данные volume по умолчанию?

Что такое tmpfs volume и зачем он нужен?

Чем отличаются anonymous volume и named volume?

Что происходит с данными, если удалить контейнер, к которому подключён volume?

Можно ли подключить один volume к нескольким контейнерам? Что при этом будет?

В чём разница между volume и слоем записи контейнера (read-write layer)?

Как сделать, чтобы данные контейнера хранились вне /var/lib/docker?

Практика
Как смонтировать директорию хоста внутрь контейнера так, чтобы изменения были видны и в контейнере, и на хосте?

Как смонтировать volume только для чтения?

Как удалить volume, не удаляя контейнер?

Как узнать, какие контейнеры используют volume?

Как перенести volume с одного Docker-хоста на другой?

Как проверить, какой storage driver использует Docker и как это влияет на работу volume?

Как ограничить размер volume или директории в контейнере?
